package graphics.renderer.shader;

import org.lwjgl.opengl.GL20;

public class UniformSamplerArray extends Uniform
{
	private int[] locations;

	protected UniformSamplerArray(String name, int size)
	{
		super(name);
		this.locations = new int[size];
	}
	
	public void loadVec2(float x, float y) {
		if (!used || x != currentX || y != currentY) {
			this.currentX = x;
			this.currentY = y;
			used = true;
			GL20.glUniform2f(super.getLocation(), x, y);
		}
	}

	@Override
	public void storeUniformLocation(int programId)
	{
		for (int i = 0; i < locations.length; i++)
		{
			locations[i] = GL20.glGetUniformLocation(programId, this.name + "[" + i + "]");
			if (locations[i] == Uniform.NOT_FOUND)
				System.err.println("Could not find Uniform " + name);
		}
	}
	
}
